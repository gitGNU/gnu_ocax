Before upgrading, read INSTALL to refresh your memory.

1. Make a backup and save it somewhere just in case.
2. Save your app/files folder
3. Save your protected/config/main.php file
4. Overwrite app/ and protected/ with new version
5. You possibly need to restore app/files and protected/config/main.php
6. Check file permissions # chown -R www-data app/assets/ app/files/ protected/runtime/


1.0.5
Follow steps 1-6 above.
Create a new table in the database

CREATE TABLE IF NOT EXISTS archive (
  id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(255) NOT NULL,
  path varchar(255) NOT NULL,
  extension varchar(5) NULL,
  author int(11) NOT NULL,
  description TEXT NOT NULL,
  created date NOT NULL,
  FOREIGN KEY (author) REFERENCES user(id),
  PRIMARY KEY (id)
) ENGINE=INNODB DEFAULT CHARSET = utf8;


1.0.4
Nothing special to do. Follow steps 1-4 above.

1.0.3
1. Save your app/files folder
2. Save protected/config/main.php
2. Overwrite app/ and protected/
3. Restore app/files and protected/config/main.php


1.0.2
Database changes
----------------
We changed two feilds in the database table intro_page from TINYINT(3) to INT(3)
You need to do this.

ALTER TABLE intro_page MODIFY toppos INT(3);
ALTER TABLE intro_page MODIFY leftpos INT(3);
ALTER TABLE intro_page ADD color varchar(6) NOT NULL DEFAULT '222222' AFTER leftpos;
ALTER TABLE intro_page ADD bgcolor varchar(6) NOT NULL DEFAULT 'FFFFFF' AFTER color;
ALTER TABLE intro_page ADD opacity TINYINT(1) NOT NULL DEFAULT '8' AFTER bgcolor;

There is a new GLobal parameter.

INSERT INTO config(parameter, value, required, description) VALUES ('membership', '0', '1', 'Does your Observatory encourage membership? (0 or 1)');
